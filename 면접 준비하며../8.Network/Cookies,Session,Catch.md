##쿠키, 세션, 캐시

HTTP 통신의 특징중 하나는, statless, 즉 클라이언트에서 요청을 하면, 이후 통신에 이전 요청에 대한 데이터를 기억하지 않는다.

또 클라이언트가 서버 요청했을 때, 요청에 맞는 응답을 받은 후 연결을 끊어버린다.(HTTP1.1 이후 연결 유지 가능. keep-alive) 



이러한 상황에서, stateful한 경우를 구현하기 위해서, 쿠키와 세션을 사용함

###쿠키

- 사용자 브라우저에 저장이 됨
- 통신 시, HTTP 헤더에 포함되는 텍스트 데이터다.
- key-value 형식으로 데이터가 저장되어 있음
- 누구나 쿠키에 입력된 값을 확인할 수 있음 -> 보안이 취약함

###세션

- 통신하는 서버에 저장이 되는 쿠키를 말함.
- 브라우저 종료 때 까지 유지됨. 서버 설정으로 세션 유지시간을 변경 가능
- 서버에 데이터가 저장되므로, 탈취가 어려움 -> 보안이 쿠키에 비해 높다



**통신 방법**

쿠키

1. 최초엔 쿠키 값이 없으므로, 클라이언트에 일반 Request한다
2. 서버에서 RequestHeader에 쿠키가 없음을 판별 후, 통신상태를 저장해 쿠키 데이터를 Response에 함께 보낸다
3. 클라이언트에서 브라우저로 부터 받은 쿠키를 저장한다.
4. 이후 통신부턴 HTTP Header에 쿠키를 함께 보낸다

세션

1. 클라이언트가, 서버 접속시 세션 ID를 발급 한다
2. 서버에선 클라이언트로 발급한 세션 ID를 이용해 쿠키 데이터를 저장한다.
3. 클라이언트에서 다시 페이지 접속할 때, 쿠키에 저장된 세션 ID를 서버에 전달한다.
4. 서버는 세션ID로 클라이언트를 판별한다.



**제약조건**

쿠키

- 저장할 수 있는 쿠키가 제한됨(300개)
- 하나의 도메인당 20개의 쿠키 가질 수 있음 -> 이후 쿠키는 적게 사용된 것 부터 삭제됨
- 4K의 용량으로 저장가능(4096byte)



### 캐시

리소스 파일들의 임시 저장소, 같은 웹 페이지에 접속할 때 사용자의 PC에서 로드하므로, 서버를 거치지 않아도 됨

이전에 사용된 데이터는 다시 사용될 가능성이 높음 

이미지, JS, CSS 등..

